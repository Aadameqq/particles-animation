(()=>{"use strict";var t={871:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Connection=void 0,i.Connection=class{constructor(t,i,e){this.startPoint=t,this.endPoint=i,this.connectionWidth=e}}},847:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionFinder=void 0;const n=e(871);i.ConnectionFinder=class{constructor(t){this.points=t,this.MIN_DISTANCE_FOR_CONNECTION=8,this.MAX_DISTANCE_FOR_CONNECTION=200,this.passEveryConnectionToCallback=t=>{this.points.forEach(((i,e)=>{for(let n=e+1;n<this.points.length;n+=1){const e=this.points[n],s=this.getConnectionIfExists(i,e);s&&t(s)}}))},this.getConnectionIfExists=(t,i)=>{const e=this.calculateDistanceBetweenPoints(t,i),s=this.calculateConnectionWidthBasedOnDistance(e);return!!this.arePointsCloseEnough(e)&&new n.Connection(t,i,s)},this.arePointsCloseEnough=t=>t.x<this.MAX_DISTANCE_FOR_CONNECTION&&t.y<this.MAX_DISTANCE_FOR_CONNECTION,this.calculateConnectionWidthBasedOnDistance=t=>{const i=this.MAX_DISTANCE_FOR_CONNECTION-Math.max(t.x,t.y);return Math.max(i,this.MIN_DISTANCE_FOR_CONNECTION)/this.MAX_DISTANCE_FOR_CONNECTION},this.calculateDistanceBetweenPoints=(t,i)=>({x:Math.abs(t.position.x-i.position.x),y:Math.abs(t.position.y-i.position.y)})}}},463:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionsDrawer=void 0;const n=e(847);i.ConnectionsDrawer=class{constructor(t){this.plainManager=t,this.LINE_COLOR="#ecebebc2",this.drawAllConnections=t=>{new n.ConnectionFinder(t).passEveryConnectionToCallback(this.drawConnection)},this.drawConnection=t=>{this.plainManager.drawLine(t.startPoint.position,t.endPoint.position,t.connectionWidth,this.LINE_COLOR)}}}},275:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Animation=void 0;const n=e(956),s=e(48),a=e(463),o=e(574),r=e(812);i.Animation=class{constructor(t,i){this.canvas=t,this.ctx=i,this.startAnimation=()=>{this.initializeEventListeners(),requestAnimationFrame(this.handleUpdate)},this.handleUpdate=()=>{this.plainManager.cleanPlain();const t=this.particlesList.getParticles();this.connectionsDrawer.drawAllConnections(t),this.particlesList.updateParticles(),requestAnimationFrame(this.handleUpdate)},this.initializeEventListeners=()=>{document.addEventListener("click",this.handleClick),window.addEventListener("resize",this.plainSize.updateSize)},this.handleClick=({clientX:t,clientY:i})=>{var e;null===(e=this.particlesList)||void 0===e||e.addNewParticle({x:t,y:i})},this.plainSize=new o.PlainSize(0,0,t),this.plainSize.updateSize(),this.plainManager=new r.PlainManager(i,this.plainSize);const e=new s.ParticleFactory(this.plainManager,this.plainSize);this.particlesList=new n.ParticlesList(e),this.connectionsDrawer=new a.ConnectionsDrawer(this.plainManager)}}},84:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Particle=void 0;class e{constructor(t,i,n,s,a){this.plainSize=t,this.particleRenderer=i,this.position=n,this.angle=s,this.radius=a,this.updatePosition=()=>{this.changeAngleWhenTooFarFromPlain(),this.position.x+=e.SPEED*Math.cos(this.angle*Math.PI/180),this.position.y+=e.SPEED*Math.sin(this.angle*Math.PI/180),this.isOutsideGivenPlain()||this.particleRenderer.render(this.position,this.radius)},this.isOutsideGivenPlain=()=>this.position.x>this.plainSize.getWidth()+this.radius||this.position.x<-this.radius||this.position.y>this.plainSize.getHeight()+this.radius||this.position.y<-this.radius,this.changeAngleWhenTooFarFromPlain=()=>{this.isTooFarFromPlain()&&(this.angle+=this.angle<=180?180:-180)},this.isTooFarFromPlain=()=>this.position.x>this.plainSize.getWidth()+100||this.position.x<-100||this.position.y>this.plainSize.getHeight()+100||this.position.y<-100}}i.Particle=e,e.PARTICLE_COLOR="#d8d8d8",e.SPEED=1},48:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleFactory=void 0;const n=e(490),s=e(84),a=e(461),o=e(309);i.ParticleFactory=class{constructor(t,i){this.plainManager=t,this.plainSize=i,this.create=(t=o.randomPosition(this.plainSize.getWidth(),this.plainSize.getHeight()))=>{const i=new n.ParticleRenderer(this.plainManager),e=a.randomValue(0,360),r=a.randomValue(2,5);return new s.Particle(this.plainSize,i,t,e,r)}}}},490:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleRenderer=void 0;const n=e(84);i.ParticleRenderer=class{constructor(t){this.plainManager=t,this.render=(t,i)=>{this.plainManager.drawCircle(t,i,n.Particle.PARTICLE_COLOR)}}}},956:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticlesList=void 0;class e{constructor(t){this.particleFactory=t,this.particles=[],this.initializeDefaultParticles=()=>{for(let t=0;t<e.PARTICLES_NUMBER;t++)this.addNewParticle()},this.addNewParticle=t=>{const i=this.particleFactory.create(t);this.particles.push(i)},this.updateParticles=()=>{this.particles.map((t=>{t.updatePosition(),this.reduceParticlesCount(t)}))},this.getParticles=()=>this.particles,this.reduceParticlesCount=t=>{t.isTooFarFromPlain()&&this.particles.length>e.PARTICLES_NUMBER&&(console.log(this.particles.length),this.particles=this.particles.filter((i=>i!==t)))},this.initializeDefaultParticles()}}i.ParticlesList=e,e.PARTICLES_NUMBER=100},812:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainManager=void 0,i.PlainManager=class{constructor(t,i){this.context=t,this.plainSize=i,this.cleanPlain=()=>{this.context.clearRect(0,0,this.plainSize.getWidth(),this.plainSize.getHeight())},this.drawCircle=(t,i,e)=>{const n=2*Math.PI;this.context.beginPath(),this.context.fillStyle=e,this.context.arc(t.x,t.y,i,0,n),this.context.fill()},this.drawLine=(t,i,e,n)=>{this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.strokeStyle=n,this.context.lineWidth=e,this.context.lineTo(i.x,i.y),this.context.stroke()}}}},574:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainSize=void 0,i.PlainSize=class{constructor(t,i,e){this.width=t,this.height=i,this.canvas=e,this.setSize=(t,i)=>{this.width=t,this.height=i},this.updateSize=()=>{this.setSize(window.innerWidth,window.innerHeight);const t=Math.ceil(window.devicePixelRatio);this.canvas.width=window.innerWidth*t,this.canvas.height=window.innerHeight*t,this.canvas.style.width=`${window.innerWidth}px`,this.canvas.style.height=`${window.innerHeight}px`,this.canvas.getContext("2d").setTransform(t,0,0,t,0,0)},this.getWidth=()=>this.width,this.getHeight=()=>this.height}}},309:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomPosition=void 0;const n=e(461);i.randomPosition=(t,i)=>({x:n.randomValue(0,t),y:n.randomValue(0,i)})},461:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomValue=void 0,i.randomValue=(t,i)=>Math.floor(Math.random()*(i-t))+t}},i={};function e(n){var s=i[n];if(void 0!==s)return s.exports;var a=i[n]={exports:{}};return t[n](a,a.exports,e),a.exports}(()=>{const t=e(275);window.onload=()=>{const i=document.querySelector(".canvas"),e=i.getContext("2d");new t.Animation(i,e).startAnimation()}})()})();