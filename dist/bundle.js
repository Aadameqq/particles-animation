(()=>{"use strict";var t={871:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Connection=void 0,i.Connection=class{constructor(t,i,e){this.startPoint=t,this.endPoint=i,this.connectionWidth=e}}},847:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionFinder=void 0;const s=e(871);i.ConnectionFinder=class{constructor(t){this.points=t,this.MIN_DISTANCE_FOR_CONNECTION=8,this.MAX_DISTANCE_FOR_CONNECTION=150,this.passEveryConnectionToCallback=t=>{this.points.forEach(((i,e)=>{for(let s=e+1;s<this.points.length;s+=1){const e=this.points[s],n=this.getConnectionIfExists(i,e);n&&t(n)}}))},this.getConnectionIfExists=(t,i)=>{const e=this.calculateDistanceBetweenPoints(t,i),n=this.calculateConnectionWidthBasedOnDistance(e);return!!this.arePointsCloseEnough(e)&&new s.Connection(t,i,n)},this.arePointsCloseEnough=t=>t.x<this.MAX_DISTANCE_FOR_CONNECTION&&t.y<this.MAX_DISTANCE_FOR_CONNECTION,this.calculateConnectionWidthBasedOnDistance=t=>{const i=this.MAX_DISTANCE_FOR_CONNECTION-Math.max(t.x,t.y);return Math.max(i,this.MIN_DISTANCE_FOR_CONNECTION)/this.MAX_DISTANCE_FOR_CONNECTION},this.calculateDistanceBetweenPoints=(t,i)=>({x:Math.abs(t.position.x-i.position.x),y:Math.abs(t.position.y-i.position.y)})}}},463:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionsDrawer=void 0;const s=e(847);i.ConnectionsDrawer=class{constructor(t){this.plainManager=t,this.LINE_COLOR="#ecebebc2",this.drawAllConnections=t=>{new s.ConnectionFinder(t).passEveryConnectionToCallback(this.drawConnection)},this.drawConnection=t=>{this.plainManager.drawLine(t.startPoint.position,t.endPoint.position,t.connectionWidth,this.LINE_COLOR)}}}},275:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Animation=void 0;const s=e(956),n=e(48),a=e(463),o=e(574),r=e(812);i.Animation=class{constructor(t,i){this.canvas=t,this.ctx=i,this.startAnimation=()=>{this.initializeEventListeners(),requestAnimationFrame(this.handleUpdate)},this.handleUpdate=()=>{this.plainManager.cleanPlain();const t=this.particlesList.getParticles();this.connectionsDrawer.drawAllConnections(t),this.particlesList.updateParticles(),requestAnimationFrame(this.handleUpdate)},this.initializeEventListeners=()=>{document.addEventListener("click",this.handleClick),window.addEventListener("resize",this.plainSize.updateSize)},this.handleClick=({clientX:t,clientY:i})=>{var e;null===(e=this.particlesList)||void 0===e||e.addNewParticle({x:t,y:i})},this.plainSize=new o.PlainSize(0,0,t),this.plainSize.updateSize(),this.plainManager=new r.PlainManager(i,this.plainSize);const e=new n.ParticleFactory(this.plainManager,this.plainSize);this.particlesList=new s.ParticlesList(e,this.plainSize.getWidth()/10),this.connectionsDrawer=new a.ConnectionsDrawer(this.plainManager)}}},84:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Particle=void 0;class e{constructor(t,i,s,n,a){this.plainSize=t,this.particleRenderer=i,this.position=s,this.angle=n,this.radius=a,this.updatePosition=()=>{this.changeAngleWhenTooFarFromPlain(),this.position.x+=e.SPEED*Math.cos(this.angle*Math.PI/180),this.position.y+=e.SPEED*Math.sin(this.angle*Math.PI/180),this.isOutsideGivenPlain()||this.particleRenderer.render(this.position,this.radius)},this.isOutsideGivenPlain=()=>this.position.x>this.plainSize.getWidth()+this.radius||this.position.x<-this.radius||this.position.y>this.plainSize.getHeight()+this.radius||this.position.y<-this.radius,this.changeAngleWhenTooFarFromPlain=()=>{this.isTooFarFromPlain()&&(this.angle+=this.angle<=180?180:-180)},this.isTooFarFromPlain=()=>this.position.x>this.plainSize.getWidth()+100||this.position.x<-100||this.position.y>this.plainSize.getHeight()+100||this.position.y<-100}}i.Particle=e,e.PARTICLE_COLOR="#d8d8d8",e.SPEED=1},48:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleFactory=void 0;const s=e(490),n=e(84),a=e(461),o=e(309);i.ParticleFactory=class{constructor(t,i){this.plainManager=t,this.plainSize=i,this.create=(t=o.randomPosition(this.plainSize.getWidth(),this.plainSize.getHeight()))=>{const i=new s.ParticleRenderer(this.plainManager),e=a.randomValue(0,360),r=a.randomValue(.5,4);return new n.Particle(this.plainSize,i,t,e,r)}}}},490:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleRenderer=void 0;const s=e(84);i.ParticleRenderer=class{constructor(t){this.plainManager=t,this.render=(t,i)=>{this.plainManager.drawCircle(t,i,s.Particle.PARTICLE_COLOR)}}}},956:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticlesList=void 0,i.ParticlesList=class{constructor(t,i=100){this.particleFactory=t,this.particlesNumber=i,this.particles=[],this.initializeDefaultParticles=()=>{for(let t=0;t<this.particlesNumber;t++)this.addNewParticle()},this.addNewParticle=t=>{const i=this.particleFactory.create(t);this.particles.push(i)},this.updateParticles=()=>{this.particles.map((t=>{t.updatePosition(),this.reduceParticlesCount(t)}))},this.getParticles=()=>this.particles,this.reduceParticlesCount=t=>{t.isTooFarFromPlain()&&this.particles.length>this.particlesNumber&&(console.log(this.particles.length),this.particles=this.particles.filter((i=>i!==t)))},this.initializeDefaultParticles()}}},812:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainManager=void 0,i.PlainManager=class{constructor(t,i){this.context=t,this.plainSize=i,this.cleanPlain=()=>{this.context.clearRect(0,0,this.plainSize.getWidth(),this.plainSize.getHeight())},this.drawCircle=(t,i,e)=>{const s=2*Math.PI;this.context.beginPath(),this.context.fillStyle=e,this.context.arc(t.x,t.y,i,0,s),this.context.fill()},this.drawLine=(t,i,e,s)=>{this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.strokeStyle=s,this.context.lineWidth=e,this.context.lineTo(i.x,i.y),this.context.stroke()}}}},574:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainSize=void 0,i.PlainSize=class{constructor(t,i,e){this.width=t,this.height=i,this.canvas=e,this.setSize=(t,i)=>{this.width=t,this.height=i},this.updateSize=()=>{this.setSize(window.innerWidth,window.innerHeight);const t=window.devicePixelRatio;this.canvas.width=Math.floor(window.innerWidth*t),this.canvas.height=Math.floor(window.innerHeight*t),this.canvas.getContext("2d").scale(t,t)},this.getWidth=()=>this.width,this.getHeight=()=>this.height}}},309:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomPosition=void 0;const s=e(461);i.randomPosition=(t,i)=>({x:s.randomValue(0,t),y:s.randomValue(0,i)})},461:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomValue=void 0,i.randomValue=(t,i)=>Math.floor(Math.random()*(i-t))+t}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var a=i[s]={exports:{}};return t[s](a,a.exports,e),a.exports}(()=>{const t=e(275);window.onload=()=>{const i=document.querySelector(".canvas"),e=i.getContext("2d");new t.Animation(i,e).startAnimation()}})()})();