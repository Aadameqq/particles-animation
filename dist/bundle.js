(()=>{"use strict";var t={871:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Connection=void 0,i.Connection=class{constructor(t,i,e){this.startPoint=t,this.endPoint=i,this.strength=e}}},847:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionFinder=void 0;const s=e(871),n=e(367);i.ConnectionFinder=class{constructor(t){this.points=t,this.MAX_DISTANCE_FOR_CONNECTION=170,this.passEveryConnectionToCallback=t=>{this.points.forEach(((i,e)=>{for(let s=e+1;s<this.points.length;s+=1){const e=this.points[s],n=this.getConnectionIfExists(i,e);n&&t(n)}}))},this.getConnectionIfExists=(t,i)=>{const e=this.calculateDistanceBetweenPoints(t,i),n=this.calculateConnectionStrengthBasedOnDistance(e);return!!this.arePointsCloseEnough(e)&&new s.Connection(t,i,n)},this.arePointsCloseEnough=t=>t<this.MAX_DISTANCE_FOR_CONNECTION,this.calculateConnectionStrengthBasedOnDistance=t=>(this.MAX_DISTANCE_FOR_CONNECTION-t)/this.MAX_DISTANCE_FOR_CONNECTION,this.calculateDistanceBetweenPoints=(t,i)=>{const e={x:Math.abs(t.position.x-i.position.x),y:Math.abs(t.position.y-i.position.y)};return Math.floor(n.calculatePythagoras(e.x,e.y))}}}},463:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ConnectionsDrawer=void 0;const s=e(847),n=e(874);i.ConnectionsDrawer=class{constructor(t){this.plainManager=t,this.defaultLineColor=new n.Rgba(236,235,235,1),this.drawAllConnections=t=>{new s.ConnectionFinder(t).passEveryConnectionToCallback(this.drawConnection)},this.drawConnection=t=>{this.plainManager.drawLine(t.startPoint.position,t.endPoint.position,t.strength,this.defaultLineColor.toStringForGivenAlpha(t.strength))}}}},275:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Animation=void 0;const s=e(956),n=e(48),a=e(463),o=e(574),r=e(812),h=e(148);i.Animation=class{constructor(t,i){this.canvas=t,this.ctx=i,this.startAnimation=()=>{this.initializeEventListeners(),requestAnimationFrame(this.handleUpdate)},this.handleUpdate=()=>{this.plainManager.cleanPlain();const t=this.particlesList.getParticles();this.connectionsDrawer.drawAllConnections(t),this.particlesList.updateParticles(),requestAnimationFrame(this.handleUpdate)},this.initializeEventListeners=()=>{document.addEventListener("click",this.handleClick),window.addEventListener("resize",this.plainSize.updateSize)},this.handleClick=({clientX:t,clientY:i})=>{var e;const s=new h.Position(t,i);null===(e=this.particlesList)||void 0===e||e.addNewParticle(s)},this.plainSize=new o.PlainSize(0,0,t,i),this.plainSize.updateSize(),this.plainManager=new r.PlainManager(i,this.plainSize);const e=new n.ParticleFactory(this.plainManager,this.plainSize);this.particlesList=new s.ParticlesList(e,this.plainSize.getWidth()/10),this.connectionsDrawer=new a.ConnectionsDrawer(this.plainManager)}}},84:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Particle=void 0;class e{constructor(t,i,s,n,a){this.plainSize=t,this.particleRenderer=i,this.position=s,this.angle=n,this.radius=a,this.updatePosition=()=>{this.changeAngleWhenTooFarFromPlain(),this.position.x+=e.SPEED*Math.cos(this.angle*Math.PI/180),this.position.y+=e.SPEED*Math.sin(this.angle*Math.PI/180),this.isOutsideGivenPlain()||this.particleRenderer.render(this.position,this.radius)},this.isOutsideGivenPlain=()=>this.position.x>this.plainSize.getWidth()+this.radius||this.position.x<-this.radius||this.position.y>this.plainSize.getHeight()+this.radius||this.position.y<-this.radius,this.changeAngleWhenTooFarFromPlain=()=>{this.isTooFarFromPlain()&&(this.angle+=this.angle<=180?180:-180)},this.isTooFarFromPlain=()=>this.position.x>this.plainSize.getWidth()+100||this.position.x<-100||this.position.y>this.plainSize.getHeight()+100||this.position.y<-100}}i.Particle=e,e.PARTICLE_COLOR="#d8d8d8",e.SPEED=.8},48:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleFactory=void 0;const s=e(490),n=e(84),a=e(461),o=e(309);i.ParticleFactory=class{constructor(t,i){this.plainManager=t,this.plainSize=i,this.create=(t=o.randomPosition(this.plainSize.getWidth(),this.plainSize.getHeight()))=>{const i=a.randomValue(0,360),e=a.randomValue(1.5,4);return new n.Particle(this.plainSize,this.particleRenderer,t,i,e)},this.particleRenderer=new s.ParticleRenderer(t)}}},490:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleRenderer=void 0;const s=e(84);i.ParticleRenderer=class{constructor(t){this.plainManager=t,this.render=(t,i)=>{this.plainManager.drawCircle(t,i,s.Particle.PARTICLE_COLOR)}}}},956:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParticlesList=void 0,i.ParticlesList=class{constructor(t,i=100){this.particleFactory=t,this.particlesNumber=i,this.particles=[],this.initializeDefaultParticles=()=>{for(let t=0;t<this.particlesNumber;t++)this.addNewParticle()},this.addNewParticle=t=>{const i=this.particleFactory.create(t);this.particles.push(i)},this.updateParticles=()=>{this.particles.map((t=>{t.updatePosition(),this.reduceParticlesCount(t)}))},this.getParticles=()=>this.particles,this.reduceParticlesCount=t=>{t.isTooFarFromPlain()&&this.particles.length>this.particlesNumber&&(this.particles=this.particles.filter((i=>i!==t)))},this.initializeDefaultParticles()}}},812:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainManager=void 0,i.PlainManager=class{constructor(t,i){this.context=t,this.plainSize=i,this.cleanPlain=()=>{this.context.clearRect(0,0,this.plainSize.getWidth(),this.plainSize.getHeight())},this.drawCircle=(t,i,e)=>{const s=2*Math.PI;this.context.beginPath(),this.context.fillStyle=e,this.context.arc(t.x,t.y,i,0,s),this.context.fill()},this.drawLine=(t,i,e,s)=>{this.context.beginPath(),this.context.moveTo(t.x,t.y),this.context.strokeStyle=s,this.context.lineWidth=e,this.context.lineTo(i.x,i.y),this.context.stroke()}}}},574:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PlainSize=void 0,i.PlainSize=class{constructor(t,i,e,s){this.width=t,this.height=i,this.canvas=e,this.ctx=s,this.setSize=(t,i)=>{this.width=t,this.height=i},this.updateSize=()=>{this.setSize(window.innerWidth,window.innerHeight);const t=window.devicePixelRatio;this.canvas.width=Math.floor(window.innerWidth*t),this.canvas.height=Math.floor(window.innerHeight*t),this.ctx.scale(t,t)},this.getWidth=()=>this.width,this.getHeight=()=>this.height}}},148:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Position=void 0,i.Position=class{constructor(t,i){this.x=t,this.y=i}}},874:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Rgba=void 0,i.Rgba=class{constructor(t,i,e,s=100){this.validate=(t,i,e,s)=>{[t,i,e].forEach((t=>{if(t>255||t<0)throw new Error("Rgba color value must be a number between 0 and 255 inclusive")})),this.validateAlpha(s)},this.toString=()=>`rgba(${this.red},${this.green},${this.blue},${this.alpha})`,this.toStringForGivenAlpha=t=>(this.validateAlpha(t),`rgba(${this.red},${this.green},${this.blue},${t})`),this.validateAlpha=t=>{if(t<0||t>1)throw new Error("Rgba alpha value must be a number between 0 and 1 inclusive")},this.validate(t,i,e,s),this.red=Math.round(t),this.green=Math.round(i),this.blue=Math.round(e),this.alpha=s}}},367:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.calculatePythagoras=void 0,i.calculatePythagoras=(t,i)=>Math.sqrt(t*t+i*i)},309:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomPosition=void 0;const s=e(461),n=e(148);i.randomPosition=(t,i)=>new n.Position(s.randomValue(0,t),s.randomValue(0,i))},461:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.randomValue=void 0,i.randomValue=(t,i)=>Math.floor(Math.random()*(i-t))+t}},i={};function e(s){var n=i[s];if(void 0!==n)return n.exports;var a=i[s]={exports:{}};return t[s](a,a.exports,e),a.exports}(()=>{const t=e(275);window.onload=()=>{const i=document.querySelector(".canvas");if(!(i instanceof HTMLCanvasElement))throw new Error("Canvas does not exist");const e=i.getContext("2d");if(!(e instanceof CanvasRenderingContext2D))throw new Error("Canvas does not have 2d context");new t.Animation(i,e).startAnimation()}})()})();